<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CarShare Admin - Tableau de bord</title>
    <link rel="stylesheet" href="/css/admin/dashboard.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar -->
      <%- include('adminAsideBar.ejs',{active : "main"}) %>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Header -->
        <header class="header">
          <div class="search-container">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input
              type="text"
              placeholder="Rechercher..."
              class="search-input"
            />
          </div>
          <div class="header-actions">
            <div class="notification-bell">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
              </svg>
              <span class="notification-badge">1</span>
            </div>
            <%- include('adminNavBar.ejs') %>
          </div>
        </header>

        <!-- Page Content -->
        <div class="page-content">
          <div class="dashboard-page">
            <div class="page-header">
              <h2>Tableau de bord</h2>
              <div class="date-filter">
                <button class="date-btn">
                  Aujourd'hui
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </button>
              </div>
            </div>

            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-header">
                  <span>Utilisateurs</span>
                  <div class="stat-icon user-icon">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                      ></path>
                      <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                  </div>
                </div>
                <div class="stat-value"><%=users%></div>
                <!-- <div class="stat-change positive">
                  +12% <span class="stat-period">vs mois précédent</span>
                </div> -->
              </div>

              <div class="stat-card">
                <div class="stat-header">
                  <span>Annonces</span>
                  <div class="stat-icon listing-icon">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.5 2.8C1.4 11.3 1 12.1 1 13v3c0 .6.4 1 1 1h2"
                      ></path>
                      <circle cx="7" cy="17" r="2"></circle>
                      <path d="M9 17h6"></path>
                      <circle cx="17" cy="17" r="2"></circle>
                    </svg>
                  </div>
                </div>
                <div class="stat-value"><%=cars%></div>
                <!-- <div class="stat-change positive">
                  +8% <span class="stat-period">vs mois précédent</span>
                </div> -->
              </div>

              <div class="stat-card">
                <div class="stat-header">
                  <span>Litiges</span>
                  <div class="stat-icon dispute-icon">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"
                      ></path>
                      <line x1="12" y1="9" x2="12" y2="13"></line>
                      <line x1="12" y1="17" x2="12.01" y2="17"></line>
                    </svg>
                  </div>
                </div>
                <div class="stat-value"><%=litiges%></div>
                <!-- <div class="stat-change negative">
                  -5% <span class="stat-period">vs mois précédent</span>
                </div> -->
              </div>

              <div class="stat-card">
                <div class="stat-header">
                  <span>Plaintes</span>
                  <div class="stat-icon complaint-icon">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                      ></path>
                      <path d="M14 2v6h6"></path>
                      <path d="M9 15v-6"></path>
                      <path d="M12 12h.01"></path>
                      <path d="M11 18h2"></path>
                    </svg>
                  </div>
                </div>
                <div class="stat-value"><%=plaints%></div>
                <!-- <div class="stat-change positive">
                  +2% <span class="stat-period">vs mois précédent</span>
                </div> -->
              </div>
            </div>

            <div class="dashboard-sections">
              <div class="activity-section">
                <div class="section-header">
                  <h3>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <polyline
                        points="22 12 18 12 15 21 9 3 6 12 2 12"
                      ></polyline>
                    </svg>
                    Activité de la plateforme
                  </h3>
                </div>
                <div class="chart-container">
                  <canvas id="activityChart"></canvas>
                </div>
              </div>

              <div class="actions-section">
                <div class="section-header">
                  <h3>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                      <polyline points="22 4 12 14.01 9 11.01"></polyline>
                    </svg>
                    Actions en attente
                  </h3>
                </div>
                <div class="action-list">
                  <div class="action-item">
                    <div class="action-text">Annonces à valider</div>
                    <div class="action-count purple">12</div>
                  </div>
                  <div class="action-item">
                    <div class="action-text">Litiges à traiter</div>
                    <div class="action-count purple">5</div>
                  </div>
                  <div class="action-item">
                    <div class="action-text">Plaintes à gérer</div>
                    <div class="action-count purple">8</div>
                  </div>
                </div>

                <div class="recent-activities">
                  <h4>Activités récentes</h4>
                  <div class="activity-item">
                    <div class="activity-content">
                      <div class="activity-title">
                        Nouvel utilisateur inscrit
                      </div>
                      <div class="activity-user">Sophie Dubois</div>
                    </div>
                    <div class="activity-time">il y a 5 minutes</div>
                  </div>
                  <div class="activity-item">
                    <div class="activity-content">
                      <div class="activity-title">Nouvelle annonce publiée</div>
                      <div class="activity-user">Thomas Martin</div>
                    </div>
                    <div class="activity-time">il y a 10 minutes</div>
                  </div>
                  <div class="activity-item">
                    <div class="activity-content">
                      <div class="activity-title">Litige résolu</div>
                      <div class="activity-user">Admin</div>
                    </div>
                    <div class="activity-time">il y a 30 minutes</div>
                  </div>
                  <div class="activity-item">
                    <div class="activity-content">
                      <div class="activity-title">Annonce validée</div>
                      <div class="activity-user">Admin</div>
                    </div>
                    <div class="activity-time">il y a 45 minutes</div>
                  </div>
                  <div class="activity-item">
                    <div class="activity-content">
                      <div class="activity-title">Plainte traitée</div>
                      <div class="activity-user">Admin</div>
                    </div>
                    <div class="activity-time">il y a 1 heure</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="/js/admin/admin.js"></script>
  </body>
</html>
