<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CarShare Admin - Litiges</title>
    <link rel="stylesheet" href="/css/admin/disputes.css" />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    />
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar -->
      <%- include('adminAsideBar.ejs',{active : "litige"}) %>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Header -->
        <header class="header">
          <div class="search-container">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input
              type="text"
              placeholder="Rechercher..."
              class="search-input"
            />
          </div>
          <div class="header-actions">
            <div class="notification-bell">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
              </svg>
              <span class="notification-badge">1</span>
            </div>
            <%- include('adminNavBar') %>
          </div>
        </header>

        <!-- Page Content -->
        <div class="page-content">
          <div class="disputes-page">
            <div class="page-header">
              <h2>Gestion des Litiges</h2>
              <div class="filter-actions">
                <div class="search-filter">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                  </svg>
                  <input
                    type="text"
                    placeholder="Rechercher un litige..."
                    class="filter-input"
                  />
                </div>
                <div class="status-filter">
                  <select class="status-select">
                    <option value="all">Tous les statuts</option>
                    <option value="open">Ouvert</option>
                    <option value="in-progress">En cours</option>
                    <option value="resolved">Résolu</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="data-table">
              <table>
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Sujet</th>
                    <th>Parties impliquées</th>
                    <th>Date de création</th>
                    <th>Statut</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>#LIT-001</td>
                    <td>Véhicule endommagé</td>
                    <td>
                      <div class="parties">
                        <div class="party">Thomas Martin</div>
                        <div class="party">Sophie Dubois</div>
                      </div>
                    </td>
                    <td>15/04/2023</td>
                    <td><span class="status-badge open">Ouvert</span></td>
                    <td>
                      <div class="action-buttons">
                        <button class="action-btn view">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path
                              d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                            ></path>
                            <circle cx="12" cy="12" r="3"></circle>
                          </svg>
                          Voir
                        </button>
                        <button class="action-btn process">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path d="M12 20h9"></path>
                            <path
                              d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"
                            ></path>
                          </svg>
                          Traiter
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>#LIT-002</td>
                    <td>Retard de restitution</td>
                    <td>
                      <div class="parties">
                        <div class="party">Jean Dupont</div>
                        <div class="party">Marie Leroy</div>
                      </div>
                    </td>
                    <td>03/05/2023</td>
                    <td>
                      <span class="status-badge in-progress">En cours</span>
                    </td>
                    <td>
                      <div class="action-buttons">
                        <button class="action-btn view">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path
                              d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                            ></path>
                            <circle cx="12" cy="12" r="3"></circle>
                          </svg>
                          Voir
                        </button>
                        <button class="action-btn resolve">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                          </svg>
                          Résoudre
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>#LIT-003</td>
                    <td>Annulation de réservation</td>
                    <td>
                      <div class="parties">
                        <div class="party">Pierre Moreau</div>
                        <div class="party">Lucie Bernard</div>
                      </div>
                    </td>
                    <td>12/03/2023</td>
                    <td><span class="status-badge resolved">Résolu</span></td>
                    <td>
                      <div class="action-buttons">
                        <button class="action-btn view">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path
                              d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                            ></path>
                            <circle cx="12" cy="12" r="3"></circle>
                          </svg>
                          Voir
                        </button>
                        <button class="action-btn reopen">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path
                              d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"
                            ></path>
                            <path d="M3 3v5h5"></path>
                          </svg>
                          Rouvrir
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>#LIT-004</td>
                    <td>Problème de paiement</td>
                    <td>
                      <div class="parties">
                        <div class="party">Sophie Dubois</div>
                        <div class="party">Thomas Martin</div>
                      </div>
                    </td>
                    <td>28/05/2023</td>
                    <td><span class="status-badge open">Ouvert</span></td>
                    <td>
                      <div class="action-buttons">
                        <button class="action-btn view">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path
                              d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                            ></path>
                            <circle cx="12" cy="12" r="3"></circle>
                          </svg>
                          Voir
                        </button>
                        <button class="action-btn process">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path d="M12 20h9"></path>
                            <path
                              d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"
                            ></path>
                          </svg>
                          Traiter
                        </button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>#LIT-005</td>
                    <td>État du véhicule contesté</td>
                    <td>
                      <div class="parties">
                        <div class="party">Marie Leroy</div>
                        <div class="party">Jean Dupont</div>
                      </div>
                    </td>
                    <td>10/02/2023</td>
                    <td>
                      <span class="status-badge in-progress">En cours</span>
                    </td>
                    <td>
                      <div class="action-buttons">
                        <button class="action-btn view">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path
                              d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                            ></path>
                            <circle cx="12" cy="12" r="3"></circle>
                          </svg>
                          Voir
                        </button>
                        <button class="action-btn resolve">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                          >
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                          </svg>
                          Résoudre
                        </button>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Modal pour voir les détails du litige -->
    <div class="modal" id="disputeModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Détails du litige</h3>
          <button class="close-modal">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="dispute-details">
            <div class="dispute-header">
              <div class="dispute-id">#LIT-001</div>
              <div class="dispute-status">
                <span class="status-badge open">Ouvert</span>
              </div>
            </div>
            <div class="dispute-subject">
              <h4>Véhicule endommagé</h4>
              <div class="dispute-date">Créé le 15/04/2023</div>
            </div>
            <div class="dispute-parties">
              <div class="party-section">
                <h5>Plaignant</h5>
                <div class="party-info">
                  <div class="party-avatar">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                      ></path>
                      <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                  </div>
                  <div class="party-details">
                    <div class="party-name">Thomas Martin</div>
                    <div class="party-email">thomas.martin@example.com</div>
                  </div>
                </div>
              </div>
              <div class="party-section">
                <h5>Défendeur</h5>
                <div class="party-info">
                  <div class="party-avatar">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                      ></path>
                      <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                  </div>
                  <div class="party-details">
                    <div class="party-name">Sophie Dubois</div>
                    <div class="party-email">sophie.dubois@example.com</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="dispute-description">
              <h5>Description</h5>
              <p>
                Le véhicule a été rendu avec des rayures sur la portière côté
                conducteur qui n'étaient pas présentes lors de la remise du
                véhicule. Le locataire nie être responsable des dommages et
                affirme que les rayures étaient déjà présentes.
              </p>
            </div>
            <div class="dispute-evidence">
              <h5>Preuves</h5>
              <div class="evidence-files">
                <div class="evidence-file">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                    ></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                  </svg>
                  <span>photo_avant_location.jpg</span>
                </div>
                <div class="evidence-file">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                    ></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                  </svg>
                  <span>photo_apres_location.jpg</span>
                </div>
                <div class="evidence-file">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                    ></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                  </svg>
                  <span>contrat_location.pdf</span>
                </div>
              </div>
            </div>
            <div class="dispute-messages">
              <h5>Messages</h5>
              <div class="message-list">
                <div class="message">
                  <div class="message-header">
                    <div class="message-sender">Thomas Martin</div>
                    <div class="message-time">15/04/2023 10:30</div>
                  </div>
                  <div class="message-content">
                    <p>
                      J'ai rendu le véhicule dans le même état que je l'ai reçu.
                      Les photos prises avant la location montrent clairement
                      qu'il n'y avait pas de rayures sur la portière.
                    </p>
                  </div>
                </div>
                <div class="message">
                  <div class="message-header">
                    <div class="message-sender">Sophie Dubois</div>
                    <div class="message-time">15/04/2023 14:45</div>
                  </div>
                  <div class="message-content">
                    <p>
                      Les rayures sont bien visibles sur les photos prises lors
                      de la restitution du véhicule. Elles n'étaient pas
                      présentes avant la location.
                    </p>
                  </div>
                </div>
              </div>
              <div class="message-form">
                <h5>Ajouter un message</h5>
                <textarea placeholder="Votre message..."></textarea>
                <button class="send-message">Envoyer</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="modal-btn cancel">Fermer</button>
          <button class="modal-btn process">Traiter</button>
          <button class="modal-btn resolve">Résoudre</button>
        </div>
      </div>
    </div>

    <script src="/js/admin/admin.js"></script>
  </body>
</html>
